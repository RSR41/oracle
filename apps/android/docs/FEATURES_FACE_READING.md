# 관상 기능 (Face Reading)

ML Kit Face Detection을 활용하여 사용자의 얼굴 특징을 분석하고 관상을 해석합니다.

## 1. 기술 스택
- **Google ML Kit Face Detection**: 온디바이스 얼굴 감지 모델. 인터넷 연결 없이 빠르고 안전하게 얼굴 랜드마크와 윤곽을 추출합니다.
- **분석 모드**: `PERFORMANCE_MODE_ACCURATE`, `LANDMARK_MODE_ALL`, `CONTOUR_MODE_ALL`, `CLASSIFICATION_MODE_ALL` 옵션을 사용하여 정밀한 분석을 수행합니다.

## 2. 분석 로직 (`FaceAnalyzer.kt`)

### 얼굴형 분석
얼굴의 너비와 높이 비율(Ratio)을 계산하여 얼굴형을 판별합니다.
- Ratio > 1.4: 긴형 (Long)
- Ratio < 1.1: 둥근형 (Round)
- 그 외: 타원형 (Oval)

### 세부 부위 분석
- **이마 (Forehead)**: 얼굴 윤곽점(Contour)을 기반으로 이마 영역의 비율을 계산하여 성향을 유추합니다.
- **눈 (Eyes)**: 양쪽 눈의 랜드마크 간격 비율 및 눈 뜸 정도(Probability)를 분석합니다.
- **코 (Nose)**: 코의 중심점과 얼굴 중심선의 대칭 여부를 확인합니다.
- **입 (Mouth)**: 입 좌우 꼬리 간격을 얼굴 너비와 비교하여 크기와 미소 여부를 분석합니다.
- **턱 (Chin)**: 얼굴 하관의 비율을 통해 턱선의 특징을 파악합니다.

## 3. 프라이버시 및 보안
- **이미지 처리**: 분석에 사용된 이미지는 메모리 상에서만 처리되며, 별도로 영구 저장되지 않습니다. (단, 사용자가 선택한 원본 URI는 분석 시점에만 접근)
- **결과 저장**: 분석된 텍스트 결과(해석 내용)만 로컬 DB 및 히스토리에 저장됩니다.
- **동의 절차**: 기능 사용 전 반드시 사용자의 명시적인 동의를 받도록 구현되어 있습니다.
